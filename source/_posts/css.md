---
title: CSS知识小记
tags:
  - CSS
categories:
  - CSS
photos:
  - 
mathjax: false
description: 记录了CSS相关的知识点、技巧和常见问题等
date: 2016-06-23 16:49:05
---

* 记录了CSS相关的知识点、技巧和常见问题等

{% asset_img logo.jpg 图片来源：google %}

<!--more-->

## 盒模型

### 标准盒模型和怪异盒模型

{% asset_img boxModel.png 图片来源：MDN %}

1、标准盒模型

* 标准盒模型在pc端比较常用，因为pc端的屏幕大，有优势可以撑

```
盒子总宽度/高度 = width/height + padding + border + margin
```

2、怪异盒模型

* 怪异盒模型在手机端比较常用，因为手机屏幕是有限大小的，有时需要使用怪异盒模型把它固定住

```
盒子总宽度/高度 = width/height + margin = 内容区宽度/高度 + padding + border + margin
```

3、使用`box-sizing`决定盒模型类型

* CSS3属性`box-sizing`可以决定采用哪种盒模型，它有两个值一个是`content-box`，另一个是`border-box`
* 当设置为`box-sizing:content-box`时
    * 将采用标准模式解析计算，也是默认模式
    * `width`, `min-width`, `max-width`, `height`, `min-height` 与 `max-height` 控制内容大小
* 当设置为`box-sizing:border-box`时，将采用怪异模式解析计算


### margin 外边距叠加
1、现象描述

* 当两个或更多个垂直边距相遇时，它们将形成一个外边距
* 这个外边距的高度等于两个发生叠加的外边距的高度中的较大者
* 只有普通文档流中块框的垂直外边距才会发生外边距叠加
* 行内框、浮动框或绝对定位框之间的外边距不会叠加

2、三种发生情况

* 元素自身叠加
    * 当元素没有内容（即空元素）、内边距、边框时，它的上下边距就相遇了，即会产生叠加（垂直方向）
    * 当为元素添加内容、内边距、边框任何一项，就会取消叠加
* 相邻元素叠加
    * 相邻的两个元素，如果它们的上下边距相遇，即会产生叠加
* 包含（父子）元素叠加
    * 包含元素的外边距隔着父元素的内边距和边框，当这两项都不存在的时候，父子元素垂直外边距相邻，产生叠加
    * 添加任何一项即会取消叠加

## 怪异问题

### 1px on retina
1、现象描述

* 设置`border: 1px solid #ccc`来实现1px边框
* 但是在retina屏上因为设备像素比的不同，边框在移动设备上的表现也不相同：1px可能会被渲染成1.5px, 2px, 2.5px, 3px....，在用户体验上略差
* 直接表现为四周边框粗细不一致，可能上面和左边的边框线比右边和下面的边框线细，也有可能直接就是0px

2、原因分析

* 引起该问题的原因还是在于设备DPR不一样

3、解决方案

* 将边框设置为`0.5px`，适用于IE8+
* 优点是原生、支持圆角
* 缺点是目前只有IOS8+才支持，在IOS7及其以下、安卓系统都是显示为0px

4、注意

* 有些机型在`1px`时显示比较好，但是有些机型显示不佳，如果全一刀切设置为`0.5px`，可能会引起本来显示正常的机型也异常显示
* 因此有时候可以视具体情况使用媒体查询来对某些机型做特殊hack处理